generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
    directUrl = env("DIRECT_URL")
}

model RawPeopleInfluencers {
    recordId                String   @id @map("record_id")
    recordType              String   @map("record_type")
    fullName                String?  @map("full_name")
    preferredName           String?  @map("preferred_name")
    gender                  String?
    birthDate               DateTime? @map("birth_date") @db.Date
    email                   String?
    phone                   String?
    city                    String?
    country                 String?
    occupation              String?
    influencerCategory      String?  @map("influencer_category")
    primaryPlatform         String?  @map("primary_platform")
    followersCount          BigInt?  @map("followers_count") @db.BigInt
    totalFollowersCount     BigInt?  @map("total_followers_count") @db.BigInt
    engagementRate          Decimal? @map("engagement_rate") @db.Decimal(6, 3)
    engagementRateTier      String?  @map("engagement_rate_tier")
    interests               String?
    notes                   String?
    secondaryPlatform       String?  @map("secondary_platform")
    secondaryFollowersCount BigInt?  @map("secondary_followers_count") @db.BigInt
    averageMonthlyReach     BigInt?  @map("average_monthly_reach") @db.BigInt
    collaborationStatus     String?  @map("collaboration_status")
    languages               String?
    portfolioUrl            String?  @map("portfolio_url")
    lastContactDate         DateTime? @map("last_contact_date") @db.Date
    passwordHash            String?  @map("password_hash")
    role                    Role     @default(user)

    @@map("raw_people_influencers")
}

enum Role {
    superadmin
    admin
    editor
    user
}

model ApplicationLog {
    id        String   @id @default(cuid())
    timestamp DateTime @default(now())
    level     String   // "info", "warn", "error"
    scope     String   // e.g., "auth/login", "users/get"
    message   String
    metadata  Json?    // Additional context as JSONB
    
    @@index([timestamp])
    @@map("application_logs")
}
